<h1>Bookshelf</h1>

{{#if books}}
	<table>
		<thead>
			<tr>
				<th>Author(s)</th>
				<th>Title</th>
			</tr>
		</thead>
		<tbody>
			{{#each books}}
				<tr id='entry-{{id}}'>
					<td>
						{{#with authors}}
							{{#each this}}
								{{this}}
								{{#unless @last}}<br>{{/unless}}
							{{/each}}
						{{else}}
							'--'
						{{/with}}
					</td>
					<td>{{title}}</td>
					<td>
						<form action='/books/{{id}}' method='GET'>
							<input type='submit' value='Details'>
						</form>
						<input type='button' value='Delete' id='but-del-{{id}}' class='cls-del-but'>
					</td>
				</tr>
			{{/each}}
		</tbody>
	</table>
{{else if error}}
	<!-- no book list -->
{{else}}
	<p><em>(empty)</em></p>
{{/if}}

{{#if error}}
	<p><strong>ERROR:</strong> {{error}}</p>
{{/if}}

{{#if books}}
<script src="/public/client.js"></script>
<script>
	setupForList();
</script>
{{/if}}